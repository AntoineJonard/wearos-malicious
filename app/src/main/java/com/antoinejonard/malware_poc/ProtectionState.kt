package com.antoinejonard.malware_poc

import android.content.Context
import android.content.res.ColorStateList
import android.widget.ImageView
import androidx.core.content.ContextCompat
import androidx.core.widget.ImageViewCompat
import androidx.databinding.BaseObservable
import androidx.databinding.BindingAdapter

enum class ProtectionState(val drawable:Int,val color: Int,val label : Int) {
    PROTECTED(R.drawable.secure, R.color.ok_green,R.string.safe),
    PARTIALLY_PROTECTED(R.drawable.secure, R.color.unknown_orange,R.string.partially_safe),
    UNPROTECTED(R.drawable.unsecure, R.color.nok_red,R.string.not_safe);

    companion object {
        @JvmStatic
        @BindingAdapter("android:src")
        fun setImageResource(imageView: ImageView, resource: Int) {
            imageView.setImageResource(resource)
        }

        @JvmStatic
        @BindingAdapter("android:tint")
        fun setImageTint(imageView: ImageView, tint: Int) {
            ImageViewCompat.setImageTintList(imageView, ColorStateList.valueOf(ContextCompat.getColor(MainActivity.appContext,tint)))
        }
    }
}